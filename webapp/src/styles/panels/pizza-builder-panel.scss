@import 'panel';

@mixin item($color, $background, $hover-background) {
    color: $color;
    background-color: $background;
    padding: 0.2em;
    border: 2px solid $title-color;
    border-radius: 3px;
    transition-duration: 0.2s;
    user-select: none;

    &:hover {
        cursor: default;
        background-color: $hover-background;
    }
}

@mixin unselected-item {
    @include item($title-color, transparent, $background-color);
}

@mixin selected-item {
    @include item(white, $title-color, $hover-color);
}

.pizza-builder-panel {
    @include centerpanel;
    padding: 0 0 0.5em;
    flex-grow: 1;
    margin-top: 6em;
    display: flex;
    flex-direction: column;

    .panel-header {
        color: $title-color;
    }

    .toppings {
        font-size: 0.9em;
        margin-top: 0.2em;
        display: flex;

        .toppings-section {
            width: 45%;
            flex: 1 0 auto;
            display: flex;
            flex-direction: column;
            align-items: stretch;
            margin-bottom: 0.4em;

            .toppings-section-name {
                margin: 0 0.2em;
                padding-bottom: 0.2em;
                text-align: center;
                font-weight: bold;
                box-shadow: 0px 2px 4px white;
                z-index: 3;
            }

            .toppings-section-list {
                flex: 0 1 auto;
                padding: 0.4em 0.4em;
                margin: 0 0.4em -0.4em;
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
                overflow: auto;

                .topping-option {
                    padding: 0.2em;
                    flex: 0 0 auto;
                    width: 100%;
                    display: flex;
                    flex-direction: column;
                    align-items: stretch;

                    .topping-name {
                        @include unselected-item;
                    }

                    .topping-name-selected {
                        @include selected-item;
                    }

                    .topping-select {
                        font-size: 1em;
                        margin-top: 0.2em;
                        flex: 0 0 auto;
                        display: flex;
                        align-items: center;
                        line-height: 0.8em;

                        div:hover {
                            cursor: pointer;
                        }

                        .topping-whole {
                            font-size: 2em;
                            position: relative;
                            bottom: 0.1em;
                        }
                    }
                }
            }
        }

        .toppings-section+.toppings-section {
            border-left: 1px solid $title-color;
        }
    }

    .pizza-attribute {
        flex: 0 0 auto;
        font-size: 0.9em;
        border-top: 1px solid $title-color;
        padding: 0.4em 0;
        margin: 0 0.4em;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        text-align: center;
        z-index: 3;

        .attribute-heading {
            font-weight: bold;
        }

        .attribute-option {
            @include unselected-item;
            margin: 0.4em;
        }

        .attribute-option-selected {
            @include selected-item;
            margin: 0.4em;
        }
    }

    .choice-display {
        flex: 0 0 auto;
        font-size: 0.9em;
        padding: 0.4em 0;
        margin: 0 0.4em;
        display: flex;
        border-top: 1px solid $title-color;

        .side-toppings {
            flex: 1 0 0;
            text-align: center;

            .side-label {
                font-weight: bold;
            }

            .side-list {
                font-size: 0.9em;
                margin-top: 0.5em;
                padding: 0 0.3em;

                .side-topping {
                    color: $title-color;
                    padding: 0.3em 0.1em;
                    line-height: 1.1em;
                }

                .side-topping+.side-topping {
                    border-top: 1px dotted $text-color;
                }
            }
        }

        .side-toppings+.side-toppings {
            border-left: 1px solid $title-color;
        }
    }

    .no-toppings {
        margin: 0 0.4em 0.4em;
        padding-top: 0.4em;
        border-top: 1px solid $title-color;
        text-align: center;
        color: $title-color;
        font-size: 0.9em;
        font-style: italic;
    }

    .toolbar {
        margin: 0 0.5em;
    }
}
